<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles/history_styles.css">
    <script src="JS/history_charts.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.4/nouislider.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/14.6.4/nouislider.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <title>Dashball history</title>
</head>

<body>
    <h1 class="title">Dashball history</h1>
    <img class="logo" src="img/Dualz_logo.png" alt="Logo">
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="history.html" class="active">History</a></li>
            <li><a href="gpu.html">GPU</a></li>
            <li><a href="cpu.html">CPU</a></li>
        </ul>
        <label class="switch">
            <input type="checkbox" id="dark-mode-toggle">
            <span class="slider round">
                <span class="icon sun">ðŸŒž</span>
                <span class="icon moon">ðŸŒœ</span>
            </span>
        </label>
    </nav>

    <div class="datapoints">
    <label for="datapointsInput">Data points:</label>
    <input type="number" id="datapointsInput" min="1" step="1" value="10">
    <button id="updateButton">Update Graph</button>
    </div>

     <!-- Time Slider -->
    <div class="time">
    <div id="timeSlider"></div>
    <div id="currentTime"></div>
    </div>


<!-- Charts Flex Container -->
<div class="charts-flex-container">
    <!-- CPU Graph -->
    <div class="chart-container">
        <canvas id="cpuChart"></canvas>
    </div>
  
    <!-- Memory Graph -->
    <div class="chart-container">
        <canvas id="memoryChart"></canvas>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Dark mode toggle function
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
            let theme = 'light';
            if (document.body.classList.contains('dark-mode')) {
                theme = 'dark';
            }
            localStorage.setItem('theme', theme);
        }

        // Initialize dark mode if previously set
        const currentTheme = localStorage.getItem('theme');
        if (currentTheme && currentTheme === 'dark') {
            document.body.classList.add('dark-mode');
            document.getElementById('dark-mode-toggle').checked = true;
        }

        // Add event listener to the dark mode toggle button
        document.getElementById('dark-mode-toggle').addEventListener('click', toggleDarkMode);
    });
</script>
</body>
</html>
