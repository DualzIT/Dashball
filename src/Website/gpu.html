<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles/styles.css">
    <script src="JS/gpu_charts.js"></script>
    <title>Dashball</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <h1 class="titel">Dashball</h1>
    <img class="logo" src="img/Dualz_logo.png" alt="Logo">
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="history.html">History</a></li>
            <li><a href="gpu.html" class="active">GPU</a></li>
            <li><a href="cpu.html">CPU</a></li>
            <li><a href="disk.html">Disk</a></li>
        </ul>
        <label class="switch">
            <span class="label-text light">Light</span>
            <input type="checkbox" id="dark-mode-toggle" checked>
            <span class="slider round"></span>
            <span class="label-text dark">Dark</span>
        </label>
    </nav>

    <div class="charts-container">
        <!-- GPU-usage graph -->
        <div class="linegraph">
            <p><span id="gpu_usage">-</span></p>
            <canvas id="gpuUsageChart"></canvas>
        </div>
    
        <!-- GPU-memory graph -->
        <div class="linegraph">
            <p><span id="gpu_memory">-</span></p>
            <canvas id="gpuMemoryChart"></canvas>
        </div>
      <!-- GPU-information -->
      <div class="gpu-info">
        <h2>GPU information</h2>
        <p>Name: <strong><span id="gpu_name">-</span></strong></p>
        <p>Temperature: <strong><span id="gpu_temperature">-</span></strong></p>
        <p>Fan Speed: <strong><span id="gpu_fan_speed">-</span></strong></p>
    </div>
    </div>
    <div class="charts-container">
        <!-- GPU clock speed graph -->
        <div class="linegraph">
            <p><span id="gpu_clock_speed">-</span></p>
            <canvas id="gpuClockSpeedChart"></canvas>
        </div>
    
        <!-- GPU memory clock speed graph -->
        <div class="linegraph">
            <p><span id="gpu_memory_clock_speed">-</span></p>
            <canvas id="gpuMemoryClockSpeedChart"></canvas>
        </div>

        <!-- GPU encoder utilization graph -->
        <div class="linegraph">
            <p><span id="gpu_encoder">-</span></p>
            <canvas id="gpuEncoderChart"></canvas>
        </div>
    
        <!-- GPU decoder utilization graph -->
        <div class="linegraph">
            <p><span id="gpu_decoder">-</span></p>
            <canvas id="gpuDecoderChart"></canvas>
        </div>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                // Dark mode toggle function
                function toggleDarkMode() {
                    document.body.classList.toggle('dark-mode');
                    let theme = 'light';
                    if (document.body.classList.contains('dark-mode')) {
                        theme = 'dark';
                    }
                    localStorage.setItem('theme', theme);
                }
        
                // Initialize dark mode if previously set, or default to dark mode
                const currentTheme = localStorage.getItem('theme');
                if (currentTheme === 'dark' || !currentTheme) {
                    document.body.classList.add('dark-mode');
                    document.getElementById('dark-mode-toggle').checked = true;
                } else if (currentTheme === 'light') {
                    document.body.classList.remove('dark-mode');
                    document.getElementById('dark-mode-toggle').checked = false;
                }
        
                // Add event listener to the dark mode toggle button
                document.getElementById('dark-mode-toggle').addEventListener('click', toggleDarkMode);
            });
        </script>
        
</body>
</html>
